import styled from "styled-components";
import * as Image from './image'
import React,{useState,useEffect,useRef} from "react";
import {clear} from "@testing-library/user-event/dist/clear";

const SmallFrame=styled.div`
   //background-color: red;
  position: absolute;
  left: 0;
  top: 0;
  cursor:pointer;

  `

const ClickFrame=styled.div`
  //background-color: red;
  opacity: 1;
  position: absolute;
  width: 180px;
  height: 400px;
  left: 0;
  top: 0;
  z-index: 20;
  cursor:pointer;
  `
const ShadowFrame=styled.div`
    position: absolute;
  left: 40px;
  top: 50px;
  opacity: 0.15;
`

function SvgMask(props){
    let selectedImage =props.image
    let {index}=props
    // const [current,setCurrent]=useState(1)
    return(
        <>
            {/*这下面的只是一个蒙版，并不占位*/}
            <svg >
                <defs>
                    <mask id="mask1"
                          >
                        <g  fill="#fff">
                            <path d="M 179.5 399.4996032714844 L 0.5 399.4996032714844 L 0.5 90.40050506591797 L 0.5 85.239501953125 L 0.6438000202178955 85.239501953125 L 0.6726499795913696 84.77020263671875 C 1.381549954414368 73.24765014648438 4.23859977722168 62.14250183105469 9.16450023651123 51.76320266723633 C 11.54209995269775 46.75335311889648 14.4042501449585 41.93435287475586 17.67144966125488 37.44000244140625 C 20.91440010070801 32.97910308837891 24.58864974975586 28.7934513092041 28.59219932556152 24.99920082092285 C 32.60139846801758 21.19965171813965 36.97980117797852 17.75575256347656 41.60585021972656 14.76310157775879 C 46.27925109863281 11.73985195159912 51.25384902954102 9.146001815795898 56.3916015625 7.05355167388916 C 67.06925201416016 2.704951524734497 78.37674713134766 0.5000016093254089 90 0.5000016093254089 C 101.6232528686523 0.5000016093254089 112.9307479858398 2.704951524734497 123.6083984375 7.05355167388916 C 128.7461547851562 9.146001815795898 133.7207489013672 11.73985195159912 138.3941497802734 14.76310157775879 C 143.0202026367188 17.75575256347656 147.3986053466797 21.19965171813965 151.4078063964844 24.99920082092285 C 155.4113464355469 28.7934513092041 159.0856018066406 32.97910308837891 162.3285522460938 37.44000244140625 C 165.5957489013672 41.93435287475586 168.4579010009766 46.75335311889648 170.8354949951172 51.76320266723633 C 175.7613983154297 62.14250183105469 178.6184539794922 73.24765014648438 179.3273468017578 84.77020263671875 L 179.356201171875 85.239501953125 L 179.5 85.239501953125 L 179.5 399.4996032714844 Z" />
                            <path d="M 179 398.9996032714844 L 179 85.739501953125 L 178.8860473632812 85.739501953125 L 178.8282928466797 84.8009033203125 C 178.1233520507812 73.34230041503906 175.2821960449219 62.2989501953125 170.3838043212891 51.9775505065918 C 168.0194549560547 46.99560165405273 165.1732025146484 42.20340347290039 161.9241027832031 37.73400115966797 C 158.6991424560547 33.2978515625 155.0452575683594 29.13535118103027 151.0638427734375 25.36215209960938 C 147.0769500732422 21.58365249633789 142.7228546142578 18.15890121459961 138.1225433349609 15.18290138244629 C 133.4753570556641 12.17660140991211 128.5286560058594 9.597301483154297 123.4197998046875 7.516651630401611 C 112.8023529052734 3.192501544952393 101.5582962036133 1.000001668930054 90 1.000001668930054 C 78.44170379638672 1.000001668930054 67.19764709472656 3.192501544952393 56.5802001953125 7.516651630401611 C 51.47135162353516 9.597301483154297 46.52465057373047 12.17660140991211 41.87744903564453 15.18290138244629 C 37.27714920043945 18.15890121459961 32.92304992675781 21.58365249633789 28.93614959716797 25.36215209960938 C 24.95475006103516 29.13535118103027 21.30084991455078 33.2978515625 18.07589912414551 37.73400115966797 C 14.82680034637451 42.20340347290039 11.98054981231689 46.99560165405273 9.61620044708252 51.9775505065918 C 4.717800140380859 62.2989501953125 1.876649975776672 73.34230041503906 1.171700000762939 84.8009033203125 L 1.11395001411438 85.739501953125 L 1 85.739501953125 L 1 398.9996032714844 L 179 398.9996032714844 M 180 399.9996032714844 L 0 399.9996032714844 L 0 84.739501953125 L 0.1736000031232834 84.739501953125 C 3.082950115203857 37.45030212402344 42.18785095214844 1.635742137295892e-06 90 1.635742137295892e-06 C 137.8121490478516 1.635742137295892e-06 176.9170532226562 37.45030212402344 179.8264007568359 84.739501953125 L 180 84.739501953125 L 180 399.9996032714844 Z" />
                        </g>
                    </mask>
                </defs>
            </svg>

            <ShadowFrame>
                <svg  transform="scale(0.91 0.905)" width="180" height="400"  >
                    <g  fill="black">
                        <path d="M 179.5 399.4996032714844 L 0.5 399.4996032714844 L 0.5 90.40050506591797 L 0.5 85.239501953125 L 0.6438000202178955 85.239501953125 L 0.6726499795913696 84.77020263671875 C 1.381549954414368 73.24765014648438 4.23859977722168 62.14250183105469 9.16450023651123 51.76320266723633 C 11.54209995269775 46.75335311889648 14.4042501449585 41.93435287475586 17.67144966125488 37.44000244140625 C 20.91440010070801 32.97910308837891 24.58864974975586 28.7934513092041 28.59219932556152 24.99920082092285 C 32.60139846801758 21.19965171813965 36.97980117797852 17.75575256347656 41.60585021972656 14.76310157775879 C 46.27925109863281 11.73985195159912 51.25384902954102 9.146001815795898 56.3916015625 7.05355167388916 C 67.06925201416016 2.704951524734497 78.37674713134766 0.5000016093254089 90 0.5000016093254089 C 101.6232528686523 0.5000016093254089 112.9307479858398 2.704951524734497 123.6083984375 7.05355167388916 C 128.7461547851562 9.146001815795898 133.7207489013672 11.73985195159912 138.3941497802734 14.76310157775879 C 143.0202026367188 17.75575256347656 147.3986053466797 21.19965171813965 151.4078063964844 24.99920082092285 C 155.4113464355469 28.7934513092041 159.0856018066406 32.97910308837891 162.3285522460938 37.44000244140625 C 165.5957489013672 41.93435287475586 168.4579010009766 46.75335311889648 170.8354949951172 51.76320266723633 C 175.7613983154297 62.14250183105469 178.6184539794922 73.24765014648438 179.3273468017578 84.77020263671875 L 179.356201171875 85.239501953125 L 179.5 85.239501953125 L 179.5 399.4996032714844 Z" />
                        <path d="M 179 398.9996032714844 L 179 85.739501953125 L 178.8860473632812 85.739501953125 L 178.8282928466797 84.8009033203125 C 178.1233520507812 73.34230041503906 175.2821960449219 62.2989501953125 170.3838043212891 51.9775505065918 C 168.0194549560547 46.99560165405273 165.1732025146484 42.20340347290039 161.9241027832031 37.73400115966797 C 158.6991424560547 33.2978515625 155.0452575683594 29.13535118103027 151.0638427734375 25.36215209960938 C 147.0769500732422 21.58365249633789 142.7228546142578 18.15890121459961 138.1225433349609 15.18290138244629 C 133.4753570556641 12.17660140991211 128.5286560058594 9.597301483154297 123.4197998046875 7.516651630401611 C 112.8023529052734 3.192501544952393 101.5582962036133 1.000001668930054 90 1.000001668930054 C 78.44170379638672 1.000001668930054 67.19764709472656 3.192501544952393 56.5802001953125 7.516651630401611 C 51.47135162353516 9.597301483154297 46.52465057373047 12.17660140991211 41.87744903564453 15.18290138244629 C 37.27714920043945 18.15890121459961 32.92304992675781 21.58365249633789 28.93614959716797 25.36215209960938 C 24.95475006103516 29.13535118103027 21.30084991455078 33.2978515625 18.07589912414551 37.73400115966797 C 14.82680034637451 42.20340347290039 11.98054981231689 46.99560165405273 9.61620044708252 51.9775505065918 C 4.717800140380859 62.2989501953125 1.876649975776672 73.34230041503906 1.171700000762939 84.8009033203125 L 1.11395001411438 85.739501953125 L 1 85.739501953125 L 1 398.9996032714844 L 179 398.9996032714844 M 180 399.9996032714844 L 0 399.9996032714844 L 0 84.739501953125 L 0.1736000031232834 84.739501953125 C 3.082950115203857 37.45030212402344 42.18785095214844 1.635742137295892e-06 90 1.635742137295892e-06 C 137.8121490478516 1.635742137295892e-06 176.9170532226562 37.45030212402344 179.8264007568359 84.739501953125 L 180 84.739501953125 L 180 399.9996032714844 Z" />
                    </g>
                </svg>
            </ShadowFrame>

            {/*下面的是描边*/}
            <SmallFrame>
                <svg  transform="scale(0.91 0.905)" width="180" height="400"  >
                    <g  fill="black">
                        <path d="M 179.5 399.4996032714844 L 0.5 399.4996032714844 L 0.5 90.40050506591797 L 0.5 85.239501953125 L 0.6438000202178955 85.239501953125 L 0.6726499795913696 84.77020263671875 C 1.381549954414368 73.24765014648438 4.23859977722168 62.14250183105469 9.16450023651123 51.76320266723633 C 11.54209995269775 46.75335311889648 14.4042501449585 41.93435287475586 17.67144966125488 37.44000244140625 C 20.91440010070801 32.97910308837891 24.58864974975586 28.7934513092041 28.59219932556152 24.99920082092285 C 32.60139846801758 21.19965171813965 36.97980117797852 17.75575256347656 41.60585021972656 14.76310157775879 C 46.27925109863281 11.73985195159912 51.25384902954102 9.146001815795898 56.3916015625 7.05355167388916 C 67.06925201416016 2.704951524734497 78.37674713134766 0.5000016093254089 90 0.5000016093254089 C 101.6232528686523 0.5000016093254089 112.9307479858398 2.704951524734497 123.6083984375 7.05355167388916 C 128.7461547851562 9.146001815795898 133.7207489013672 11.73985195159912 138.3941497802734 14.76310157775879 C 143.0202026367188 17.75575256347656 147.3986053466797 21.19965171813965 151.4078063964844 24.99920082092285 C 155.4113464355469 28.7934513092041 159.0856018066406 32.97910308837891 162.3285522460938 37.44000244140625 C 165.5957489013672 41.93435287475586 168.4579010009766 46.75335311889648 170.8354949951172 51.76320266723633 C 175.7613983154297 62.14250183105469 178.6184539794922 73.24765014648438 179.3273468017578 84.77020263671875 L 179.356201171875 85.239501953125 L 179.5 85.239501953125 L 179.5 399.4996032714844 Z" />
                        <path d="M 179 398.9996032714844 L 179 85.739501953125 L 178.8860473632812 85.739501953125 L 178.8282928466797 84.8009033203125 C 178.1233520507812 73.34230041503906 175.2821960449219 62.2989501953125 170.3838043212891 51.9775505065918 C 168.0194549560547 46.99560165405273 165.1732025146484 42.20340347290039 161.9241027832031 37.73400115966797 C 158.6991424560547 33.2978515625 155.0452575683594 29.13535118103027 151.0638427734375 25.36215209960938 C 147.0769500732422 21.58365249633789 142.7228546142578 18.15890121459961 138.1225433349609 15.18290138244629 C 133.4753570556641 12.17660140991211 128.5286560058594 9.597301483154297 123.4197998046875 7.516651630401611 C 112.8023529052734 3.192501544952393 101.5582962036133 1.000001668930054 90 1.000001668930054 C 78.44170379638672 1.000001668930054 67.19764709472656 3.192501544952393 56.5802001953125 7.516651630401611 C 51.47135162353516 9.597301483154297 46.52465057373047 12.17660140991211 41.87744903564453 15.18290138244629 C 37.27714920043945 18.15890121459961 32.92304992675781 21.58365249633789 28.93614959716797 25.36215209960938 C 24.95475006103516 29.13535118103027 21.30084991455078 33.2978515625 18.07589912414551 37.73400115966797 C 14.82680034637451 42.20340347290039 11.98054981231689 46.99560165405273 9.61620044708252 51.9775505065918 C 4.717800140380859 62.2989501953125 1.876649975776672 73.34230041503906 1.171700000762939 84.8009033203125 L 1.11395001411438 85.739501953125 L 1 85.739501953125 L 1 398.9996032714844 L 179 398.9996032714844 M 180 399.9996032714844 L 0 399.9996032714844 L 0 84.739501953125 L 0.1736000031232834 84.739501953125 C 3.082950115203857 37.45030212402344 42.18785095214844 1.635742137295892e-06 90 1.635742137295892e-06 C 137.8121490478516 1.635742137295892e-06 176.9170532226562 37.45030212402344 179.8264007568359 84.739501953125 L 180 84.739501953125 L 180 399.9996032714844 Z" />
                    </g>
                </svg>
            </SmallFrame>

            {/*现在才是图像*/}
            <SmallFrame>
                <svg  transform="scale(0.9)" width="180" height="400" >
                    <g  stroke="red" strokeWidth="10" mask="url(#mask1)">
                        <image href={selectedImage}
                               transform={`scale(1)`}
                               id={`Door${index}`}
                        />
                    </g>
                </svg>
            </SmallFrame>
            <ClickFrame/>

        </>
    )
}

export default SvgMask